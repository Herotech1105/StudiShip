<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>StudyShip</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <style> {{!--Extrackt to style.css later--}}
    header{
        background-color: red;
        color: white;
        padding: 16px;
    }
    nav{
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .logo{
        text-decoration: none;
        color: white;
        font-weight: bold;
        font-size: 25px;
    }
    .mobile-menu a{
        color: white;
        text-decoration: none;
        margin-left: 20px;
    }
    .mobile-menu a:hover{
        color: white;
        text-decoration: underline;
        margin-left: 20px;
    }
    .mobile-menu button{
        background: none;
        border: none;
        padding: 0;
        color: white;
        font: inherit;
        cursor: pointer;
        margin-left: 20px;
        text-decoration: none;
    }
    .mobile-menu button:hover{
        text-decoration: underline;
    }
    .mobile-menu form{
        display: inline;
        margin: 0;
        padding: 0;
    }
    .room-layout{
        height: calc(100vh - 65px);/*without nav*/
        display: flex;
        gap: 20px;
        padding:20px
    }
    .room-info{
        flex: 1;
    }
    .red-rounded-box {
        background-color: red;
        color: white;
        padding: 15px;
        border-radius: 15px;
        margin-bottom: 15px;
    }
    .border-box {
        border: 2px solid black;
        padding: 10px;
        background-color: white;
        margin-bottom: 15px;
    }
    .chat-area{
        flex: 2;
        display: flex;
        flex-direction: column;
        background: lightgray;
        border-radius: 10px;
        height: 60hv;
    }
    .chat-window{
        postion:fixed;
        flex-grow: 1;
        overflow-y: auto;
        padding: 15px;
        list-style: none;
    }
    .message-bubble{
        background: red;
        color: white;
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 15px;
    }
    .chat-input{
        display: flex;
        padding: 10px;
        background: white;
    }
    .chat-input input{
        flex-grow: 1;
        padding: 10px;
        border:1px solid #ccc;

    }
    .chat-input button{
        background-color: red;
        color: white;
        border: none;
        border-radius: 50%;
        width: 35px;
        height: 35px;
        cursor: pointer;
    }

    </style>
</head>

<header>
    <nav>
        <a href="/" class="logo">StudyShip ðŸ“–</a>
        <div class="mobile-menu">
            <a href="/rooms/create">Erstellen</a>
            <a href="/search">Suchen</a>
            <form action="/logout" method="POST" class="logout-form">
                <button type="submit" class="logout-link-style">Abmelden</button>
            </form>
        </div>
    </nav>
</header>
<body>
    <main class="room-layout">
        <script src="/socket.io/socket.io.js"></script>
        <script src="../scripts/room.js"></script>

        <section class="room-info">
            <div class="red-rounded-box header-box">
                <h1>{{room.name}}</h1>
            </div>

            <div id="subject" class="border-box sub-header">
                <span>{{room.subject}}</span>
            </div>

            <div id="description" class="border-box">
                <p>{{room.description}}</p>
            </div>

            <div id="owner" class="border-box">
                <p>{{room.owner}}</p>
            </div>

            <div class="red-rounded-box members-field">
                <h3>Mitglieder:</h3>
                <button class="share-btn">ðŸ”— teilen</button>
                <ul>
                    {{#each members}}
                        <li>{{this.name}}
                            <button class="kickUserButton" onclick="deleteMember(this)">x</button>
                        </li>
                    {{/each}}
                </ul>
            </div>
            <button onclick="deleteRoom()">Delete</button>
        </section>

        <aside class="chat-area">
            <h4>Nachrichten:</h4>
            <ul id="messages" class="chat-window">
                {{#each messages}}
                    <li class="message-bubble" id="{{this.user}}">
                        <small>{{this.user}}[{{this.timestamp}}]:</small>
                        <p>{{this.content}}</p>
                    </li>
                {{/each}}

            </ul>
            <div class="chat-input">
                <input type="text" name="message" id="message" placeholder="...">
                <button onclick="sendMessage()" class="send-button">âž¤</button>
            </div>
        </aside>
    </main>
</body>
<footer>
    <p>Diese Seite wurde erstellt von Barnabas Steiner, Tim ...</p>
    <p>Nur zur internen Verwendung an der DHBW Ravensburg Campus Friedrichshafen.</p>
</footer>
</html>